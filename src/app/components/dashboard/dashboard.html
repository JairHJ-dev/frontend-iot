<div class="bg-primary p-3 flex justify-content-between align-items-center shadow-2 sticky top-0 z-5">
    <div class="flex align-items-center gap-2">
        <i class="pi pi-box text-xl"></i>
        <span class="font-bold text-lg">IoT Monitor</span>
    </div>
    <p-button icon="pi pi-sign-out" styleClass="p-button-rounded p-button-text text-white" (onClick)="logout()"></p-button>
</div>

<div class="p-3 grid pb-6"> <div class="col-12">
        <div class="surface-card p-4 shadow-2 border-round">
            <div class="text-900 font-medium text-xl mb-2">Hola, {{usuarioLogueado}}</div>
            <div class="text-600">Resumen de actividad de sensores</div>
        </div>
    </div>

    <div class="col-12 md:col-6">
        <p-card header="Tendencia" styleClass="shadow-2 h-full">
            <p-chart type="line" [data]="chartData" [options]="chartOptions" height="250px"></p-chart>
        </p-card>
    </div>

    <div class="col-12 md:col-6">
        <p-card header="Últimos Registros" styleClass="shadow-2 h-full">
            <p-table [value]="datos" [rows]="5" [paginator]="true" responsiveLayout="scroll" styleClass="p-datatable-sm">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 40%">Hora</th>
                        <th style="width: 30%">Temp</th>
                        <th style="width: 30%">Hum</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-dato>
                    <tr>
                        <td class="text-sm">{{ dato.timestamp_local | slice:11:19 }}</td> <td><span class="text-orange-500 font-bold">{{dato.temp}}°C</span></td>
                        <td><span class="text-blue-500 font-bold">{{dato.hum}}%</span></td>
                    </tr>
                </ng-template>
            </p-table>
        </p-card>
    </div>
</div>